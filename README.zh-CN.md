<div align="center">
  <h1>âœï¸ Vue3 Signature</h1>
  <p>ä¸€ä¸ªæµç•…ä¼˜é›…çš„ Vue 3 ç”µå­ç­¾åç»„ä»¶</p>
  <p><strong>åŸºäº <a href="https://github.com/szimek/signature_pad">signature_pad</a></strong> - æœ€æµè¡Œçš„ HTML5 Canvas ç­¾ååº“</p>
  
  [![npm version](https://img.shields.io/npm/v/vue3-signature.svg?style=flat-square)](https://www.npmjs.com/package/vue3-signature)
  [![npm downloads](https://img.shields.io/npm/dm/vue3-signature.svg?style=flat-square)](https://www.npmjs.com/package/vue3-signature)
  [![license](https://img.shields.io/npm/l/vue3-signature.svg?style=flat-square)](https://github.com/WangShayne/vue3-signature/blob/master/LICENSE)
  [![vue3](https://img.shields.io/badge/vue-3.x-brightgreen.svg?style=flat-square)](https://vuejs.org/)
  [![signature_pad](https://img.shields.io/badge/signature__pad-5.1.1-orange.svg?style=flat-square)](https://github.com/szimek/signature_pad)
  
  [ğŸ® åœ¨çº¿ä½“éªŒ](#-åœ¨çº¿ä½“éªŒ) â€¢ 
  [âœ¨ ç‰¹æ€§](#-ç‰¹æ€§) â€¢ 
  [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ 
  [ğŸ“– æ–‡æ¡£](#-æ–‡æ¡£) â€¢ 
  [ğŸ’¡ ç¤ºä¾‹](#-ç¤ºä¾‹)
  
  <p>
    <a href="./README.md">English</a> | 
    <a href="./README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a>
  </p>
</div>

---

## ğŸ® åœ¨çº¿ä½“éªŒ

æ— éœ€å®‰è£…ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½“éªŒ Vue3 Signatureï¼š

**ğŸ‘‰ [GitHub Pages åœ¨çº¿æ¼”ç¤º](https://wangshayne.github.io/vue3-signature/)** - åœ¨æµè§ˆå™¨ä¸­è¯•ç”¨æ‰€æœ‰åŠŸèƒ½ï¼

> æ¼”ç¤ºå±•ç¤ºäº†ç»„ä»¶çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç»˜åˆ¶ã€ä¿å­˜ã€æ’¤é”€ã€æ°´å°ç­‰ã€‚

### ğŸš€ éƒ¨ç½²ä½ è‡ªå·±çš„æ¼”ç¤º

æƒ³è¦éƒ¨ç½²è‡ªå·±çš„æ¼”ç¤ºå—ï¼ŸæŸ¥çœ‹æˆ‘ä»¬çš„[éƒ¨ç½²æŒ‡å—](./DEPLOY.zh-CN.md)äº†è§£å¦‚ä½•éƒ¨ç½²åˆ° GitHub Pages çš„è¯¦ç»†è¯´æ˜ã€‚

### ğŸ“ æ–°åŠŸèƒ½ï¼šå›¾ç‰‡å¯¼å…¥

åœ¨çº¿æ¼”ç¤ºç°åœ¨æ”¯æŒ**å¯¼å…¥å›¾ç‰‡**åŠŸèƒ½ï¼š
- ğŸ“ ä¸Šä¼ æœ¬åœ°å›¾ç‰‡æ–‡ä»¶
- ğŸ”— ä»URLåŠ è½½å›¾ç‰‡
- ğŸ–¼ï¸ ä¸€é”®å°è¯•ç¤ºä¾‹å›¾ç‰‡

éå¸¸é€‚åˆç¼–è¾‘ç°æœ‰ç­¾åã€æ·»åŠ æ ‡æ³¨æˆ–ä½¿ç”¨æ¨¡æ¿ï¼

## âœ¨ ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒæŠ€æœ¯

åŸºäº **[signature_pad](https://github.com/szimek/signature_pad)** æ„å»º - è¿™æ˜¯ç”± Szymon Nowak å¼€å‘çš„è¡Œä¸šæ ‡å‡† HTML5 Canvas å¹³æ»‘ç­¾åç»˜åˆ¶åº“ï¼Œæ‹¥æœ‰ **13k+ GitHub æ˜Ÿæ ‡**ï¼Œå¯é æ€§ç»è¿‡éªŒè¯ã€‚

### âš¡ ä¸»è¦ç‰¹æ€§

- ğŸ“± **è§¦æ‘¸å’Œé¼ æ ‡æ”¯æŒ** - åœ¨ç§»åŠ¨è®¾å¤‡å’Œæ¡Œé¢è®¾å¤‡ä¸Šæ— ç¼å·¥ä½œ
- ğŸ¨ **å¯è‡ªå®šä¹‰** - å®Œå…¨å¯å®šåˆ¶çš„ç”»ç¬”é¢œè‰²ã€èƒŒæ™¯å’Œç­¾åæ ·å¼
- ğŸ’¾ **å¤šç§å¯¼å‡ºæ ¼å¼** - å¯¼å‡ºç­¾åä¸º PNGã€JPEG æˆ– SVG æ ¼å¼
- ğŸ”„ **æ’¤é”€æ”¯æŒ** - ç®€å•çš„æ’¤é”€åŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- ğŸ–¼ï¸ **æ°´å°æ”¯æŒ** - ä¸ºç­¾åæ·»åŠ è‡ªå®šä¹‰æ°´å°
- ğŸš« **ç¦ç”¨æ¨¡å¼** - åœ¨å¯ç¼–è¾‘å’Œåªè¯»çŠ¶æ€ä¹‹é—´åˆ‡æ¢
- ğŸ“ **å“åº”å¼** - è‡ªåŠ¨é€‚åº”å®¹å™¨å¤§å°
- ğŸ¯ **TypeScript æ”¯æŒ** - åŒ…å«å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- âš¡ **è½»é‡çº§** - å°å·§çš„åŒ…ä½“ç§¯ï¼Œæ— ä¸å¿…è¦çš„ä¾èµ–
- ğŸŒ **è·¨å¹³å°** - é€‚ç”¨äºæ‰€æœ‰ç°ä»£æµè§ˆå™¨å’Œç§»åŠ¨è®¾å¤‡

![æ¼”ç¤º](./1.gif)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# ä½¿ç”¨ npm
npm install vue3-signature

# ä½¿ç”¨ yarn
yarn add vue3-signature

# ä½¿ç”¨ pnpm
pnpm add vue3-signature
```

### åŸºæœ¬ä½¿ç”¨

**æ­¥éª¤ 1ï¼š** å…¨å±€æ³¨å†Œç»„ä»¶

```javascript
// main.js
import { createApp } from "vue";
import Vue3Signature from "vue3-signature";
import App from "./App.vue";

createApp(App).use(Vue3Signature).mount("#app");
```

**æ­¥éª¤ 2ï¼š** åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<template>
  <div>
    <Vue3Signature
      ref="signature"
      :sigOption="options"
      :w="'800px'"
      :h="'400px'"
    />

    <div class="buttons">
      <button @click="save">ä¿å­˜ä¸º PNG</button>
      <button @click="clear">æ¸…ç©º</button>
      <button @click="undo">æ’¤é”€</button>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from "vue";

const signature = ref(null);
const options = reactive({
  penColor: "rgb(0, 0, 0)",
  backgroundColor: "rgb(255, 255, 255)",
});

const save = () => {
  const png = signature.value.save();
  console.log(png); // base64 data URL
};

const clear = () => {
  signature.value.clear();
};

const undo = () => {
  signature.value.undo();
};
</script>
```

## ğŸ“– æ–‡æ¡£

### å±æ€§

| å±æ€§            | ç±»å‹      | é»˜è®¤å€¼                                                            | æè¿°                                  |
| --------------- | --------- | ----------------------------------------------------------------- | ------------------------------------- |
| `sigOption`     | `Object`  | `{penColor: "rgb(0, 0, 0)", backgroundColor: "rgb(255,255,255)"}` | ç­¾åæ¿é€‰é¡¹ï¼ŒåŒ…æ‹¬ç”»ç¬”é¢œè‰²å’ŒèƒŒæ™¯é¢œè‰²    |
| `w`             | `String`  | `"100%"`                                                          | ç­¾åæ¿å®½åº¦ï¼ˆä¾‹å¦‚ `"100%"`ã€`"500px"`ï¼‰|
| `h`             | `String`  | `"100%"`                                                          | ç­¾åæ¿é«˜åº¦ï¼ˆä¾‹å¦‚ `"100%"`ã€`"300px"`ï¼‰|
| `clearOnResize` | `Boolean` | `false`                                                           | çª—å£è°ƒæ•´å¤§å°æ—¶æ˜¯å¦æ¸…ç©ºç”»å¸ƒ            |
| `waterMark`     | `Object`  | `{}`                                                              | æ°´å°é…ç½®ï¼ˆå‚è§[æ°´å°é€‰é¡¹](#æ°´å°é€‰é¡¹)ï¼‰|
| `disabled`      | `Boolean` | `false`                                                           | ç¦ç”¨/å¯ç”¨ç­¾åè¾“å…¥                     |
| `defaultUrl`    | `String`  | `""`                                                              | è¦åœ¨ç”»å¸ƒä¸Šæ˜¾ç¤ºçš„é»˜è®¤å›¾åƒ URL          |

> ğŸ’¡ `sigOption` æ”¯æŒ [`signature_pad` æä¾›çš„å…¨éƒ¨å‚æ•°](https://github.com/szimek/signature_pad#options)ã€‚ç»„ä»¶ä¼šæ·±åº¦ç›‘å¬è¯¥å¯¹è±¡ï¼Œè‡ªåŠ¨é‡å»ºç­¾åæ¿å¹¶å°½é‡ä¿ç•™å½“å‰ç¬”ç”»ã€‚

### æ–¹æ³•

é€šè¿‡ç»„ä»¶ ref å¯ä»¥è®¿é—® `signature_pad` çš„æ‰€æœ‰å…¬å¼€ APIï¼š

| æ–¹æ³•                              | å‚æ•°                                                                            | è¿”å›å€¼          | æè¿°                                                                                                   |
| --------------------------------- | ------------------------------------------------------------------------------- | --------------- | ------------------------------------------------------------------------------------------------------ |
| `save(format?, encoderOptions?)`  | åŒ `toDataURL`                                                                  | `string`        | `toDataURL` çš„å…¼å®¹åˆ«åï¼Œæ–¹ä¾¿æ—§ç‰ˆæœ¬å‡çº§ã€‚                                                               |
| `toDataURL(format?, encoderOptions?)` | ä¸ `signature_pad#toDataURL` å®Œå…¨ä¸€è‡´                                              | `string`        | æŒ‰ PNG/JPEG/SVG å¯¼å‡ºç­¾åï¼Œæ”¯æŒä¼ å…¥ç¼–ç å‚æ•°ã€‚                                                           |
| `toSVG(options?)`                 | `options?: ToSVGOptions`                                                        | `string`        | è¾“å‡º SVG å­—ç¬¦ä¸²ï¼Œå¯é€‰åŒ…å«èƒŒæ™¯è‰²æˆ– `fromDataURL` å¯¼å…¥çš„å›¾ç‰‡ã€‚                                           |
| `clear()`                         | -                                                                               | `void`          | ä½¿ç”¨å½“å‰èƒŒæ™¯è‰²æ¸…ç©ºç”»å¸ƒã€‚                                                                               |
| `redraw()`                        | -                                                                               | `void`          | é‡æ–°æ¸²æŸ“å½“å‰ä¿å­˜çš„ç¬”ç”»/å¯¼å…¥çš„å›¾ç‰‡ã€‚                                                                   |
| `isEmpty()`                       | -                                                                               | `boolean`       | åˆ¤æ–­ç”»å¸ƒæ˜¯å¦ä¸ºç©ºã€‚                                                                                     |
| `undo(steps = 1)`                 | `steps?: number`                                                                | `void`          | æ’¤é”€æœ€è¿‘çš„è‹¥å¹²ç¬”ç”»ã€‚                                                                                   |
| `toData()`                        | -                                                                               | `PointGroup[]`  | è·å– `signature_pad` çš„åŸå§‹ç¬”ç”»æ•°æ®ã€‚                                                                  |
| `fromData(pointGroups, options?)` | `pointGroups: PointGroup[]`, `options?: FromDataOptions`                        | `void`          | æ ¹æ®åŸå§‹ç¬”ç”»æ•°æ®ç»˜åˆ¶ï¼Œå¯æ§åˆ¶æ˜¯å¦æ¸…ç©ºç”»å¸ƒã€‚                                                             |
| `fromDataURL(url, options?)`      | `url: string`, `options?: FromDataUrlOptions`                                   | `Promise<void>` | ä¸ `signature_pad#fromDataURL` å®Œå…¨ä¸€è‡´çš„å¯¼å…¥èƒ½åŠ›ã€‚                                                     |
| `addWaterMark(options)`           | `options: WaterMarkOption`                                                      | `void`          | ä¾¿æ·æ°´å°å·¥å…·ï¼Œä¿ç•™åŸæœ‰åŠŸèƒ½ã€‚                                                                           |
| `trim(options?)`                  | `options?: TrimOptions`                                                         | `TrimResult \| null` | å…‹éš†ç”»å¸ƒã€è£å‰ªç•™ç™½å¹¶è¿”å›ç¦»å±ç»“æœï¼Œä¸ä¼šå½±å“ç”¨æˆ·çœ‹åˆ°çš„å†…å®¹ã€‚                                   |
| `toTrimmedDataURL(format?, encoderOptions?)` | `format?: string`, `encoderOptions?: number`                           | `string`        | ä»…è¿”å›è£å‰ªåçš„ data URLï¼Œå†…éƒ¨å¤ç”¨ `trim`ã€‚                                                               |
| `enable()` / `disable()`          | -                                                                               | `void`          | ç›´æ¥è°ƒç”¨åº•å±‚çš„ `on()`/`off()`ï¼Œç”¨äºåˆ‡æ¢ç¼–è¾‘çŠ¶æ€ã€‚                                                       |
| `addEventListener(...)`           | ä¸ `EventTarget#addEventListener` ç›¸åŒ                                          | `void`          | ç»‘å®š `signature_pad` çš„åº•å±‚äº‹ä»¶ã€‚                                                                      |
| `removeEventListener(...)`        | ä¸ `EventTarget#removeEventListener` ç›¸åŒ                                       | `void`          | ç§»é™¤äº‹ä»¶ç›‘å¬ã€‚                                                                                         |
| `getInstance()`                   | -                                                                               | `SignaturePad?` | è·å–åº•å±‚ `SignaturePad` å®ä¾‹ï¼Œæ–¹ä¾¿ç›´æ¥è®¿é—®æ‰€æœ‰å±æ€§/æ–¹æ³•ã€‚                                             |

### äº‹ä»¶

| äº‹ä»¶                | è½½è·              | è¯´æ˜                                             |
| ------------------- | ----------------- | ------------------------------------------------ |
| `ready`             | `SignaturePad`    | ç»„ä»¶åˆå§‹åŒ–å®Œæˆå¹¶è°ƒæ•´å®Œå¤§å°åè§¦å‘ã€‚               |
| `begin` / `end`     | `void`            | å…¼å®¹æ—§ç‰ˆæœ¬çš„ `onBegin` / `onEnd`ã€‚               |
| `beginStroke`       | `SignatureEvent`  | ç¬”ç”»å¼€å§‹å‰è§¦å‘ï¼Œå¯é€šè¿‡ `preventDefault` å–æ¶ˆã€‚   |
| `beforeUpdateStroke`| `SignatureEvent`  | ç¬”ç”»æ›´æ–°å‰å›è°ƒã€‚                                 |
| `afterUpdateStroke` | `SignatureEvent`  | ç¬”ç”»æ›´æ–°åå›è°ƒã€‚                                 |
| `endStroke`         | `SignatureEvent`  | ç¬”ç”»ç»“æŸæ—¶è§¦å‘ã€‚                                 |

### ç­¾åé€‰é¡¹

```typescript
import type { Options as SignaturePadOptions } from "signature_pad";

type SigOption = SignaturePadOptions;

// ä½ å¯ä»¥ä¼ å…¥ signature_pad æ”¯æŒçš„æ‰€æœ‰é…ç½®ï¼Œä¾‹å¦‚ï¼š
// dotSize?: number;
// minWidth?: number;
// maxWidth?: number;
// minDistance?: number;
// throttle?: number;
// velocityFilterWeight?: number;
// penColor?: string;
// backgroundColor?: string;
// compositeOperation?: GlobalCompositeOperation;
// canvasContextOptions?: CanvasRenderingContext2DSettings;
```

### æ°´å°é€‰é¡¹

```typescript
interface WaterMarkOption {
  text?: string; // æ°´å°æ–‡æœ¬ï¼ˆé»˜è®¤ï¼š""ï¼‰
  font?: string; // å­—ä½“æ ·å¼ï¼ˆé»˜è®¤ï¼š"20px sans-serif"ï¼‰
  style?: string; // æ ·å¼ç±»å‹ï¼š"all" | "stroke" | "fill"ï¼ˆé»˜è®¤ï¼š"fill"ï¼‰
  fillStyle?: string; // å¡«å……é¢œè‰²ï¼ˆé»˜è®¤ï¼š"#333"ï¼‰
  strokeStyle?: string; // æè¾¹é¢œè‰²ï¼ˆé»˜è®¤ï¼š"#333"ï¼‰
  x?: number; // å¡«å……æ–‡æœ¬ X ä½ç½®ï¼ˆé»˜è®¤ï¼š20ï¼‰
  y?: number; // å¡«å……æ–‡æœ¬ Y ä½ç½®ï¼ˆé»˜è®¤ï¼š20ï¼‰
  sx?: number; // æè¾¹æ–‡æœ¬ X ä½ç½®ï¼ˆé»˜è®¤ï¼š40ï¼‰
  sy?: number; // æè¾¹æ–‡æœ¬ Y ä½ç½®ï¼ˆé»˜è®¤ï¼š40ï¼‰
}
```

### è£å‰ªç»“æœä¸é€‰é¡¹

```typescript
interface TrimResult {
  canvas: HTMLCanvasElement;            // ç¦»å±ç”»å¸ƒï¼ˆå·²è£å‰ªï¼‰
  dataUrl: string;                     // æ–¹ä¾¿ç›´æ¥ä½¿ç”¨çš„è£å‰ªå data URL
  bounds: { x: number; y: number; width: number; height: number }; // è£å‰ªåŒºåŸŸï¼ˆåƒç´ ï¼‰
}

interface TrimOptions {
  format?: string;         // ä¼ ç»™ canvas.toDataURL çš„æ ¼å¼
  encoderOptions?: number; // JPEG/WebP è´¨é‡
  backgroundColor?: string;// è¦†ç›–ç”¨äºæ£€æµ‹ç•™ç™½çš„èƒŒæ™¯è‰²
}
```

## ğŸ’¡ ç¤ºä¾‹

### ä¿å­˜ä¸ºä¸åŒæ ¼å¼

```vue
<template>
  <Vue3Signature ref="signature" :w="'800px'" :h="'400px'" />

  <button @click="saveAsPNG">ä¿å­˜ä¸º PNG</button>
  <button @click="saveAsJPEG">ä¿å­˜ä¸º JPEG</button>
  <button @click="saveAsSVG">ä¿å­˜ä¸º SVG</button>
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);

const saveAsPNG = () => {
  const dataUrl = signature.value.save(); // æˆ– save('image/png')
  downloadImage(dataUrl, "signature.png");
};

const saveAsJPEG = () => {
  const dataUrl = signature.value.save("image/jpeg");
  downloadImage(dataUrl, "signature.jpg");
};

const saveAsSVG = () => {
  const dataUrl = signature.value.save("image/svg+xml");
  downloadImage(dataUrl, "signature.svg");
};

const downloadImage = (dataUrl, filename) => {
  const link = document.createElement("a");
  link.href = dataUrl;
  link.download = filename;
  link.click();
};
</script>
```

### è‡ªå®šä¹‰ç”»ç¬”é¢œè‰²å’Œæ ·å¼

```vue
<template>
  <div>
    <div class="color-picker">
      <button @click="setPenColor('#000000')">é»‘è‰²</button>
      <button @click="setPenColor('#0000ff')">è“è‰²</button>
      <button @click="setPenColor('#ff0000')">çº¢è‰²</button>
      <button @click="setPenColor('#00ff00')">ç»¿è‰²</button>
    </div>

    <Vue3Signature
      ref="signature"
      :sigOption="options"
      :w="'100%'"
      :h="'400px'"
    />
  </div>
</template>

<script setup>
import { ref, reactive } from "vue";

const signature = ref(null);
const options = reactive({
  penColor: "rgb(0, 0, 0)",
  backgroundColor: "rgb(255, 255, 255)",
  minWidth: 1,
  maxWidth: 3,
});

const setPenColor = (color) => {
  options.penColor = color;
};
</script>

<style scoped>
.color-picker {
  margin-bottom: 10px;
}

.color-picker button {
  margin-right: 10px;
  padding: 8px 16px;
  border-radius: 4px;
  border: 1px solid #ddd;
  cursor: pointer;
}
</style>
```

### æ·»åŠ æ°´å°

```vue
<template>
  <Vue3Signature ref="signature" :w="'800px'" :h="'400px'" />
  <button @click="addWatermark">æ·»åŠ æ°´å°</button>
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);

const addWatermark = () => {
  signature.value.addWaterMark({
    text: "æœºå¯†",
    font: "30px Arial",
    style: "all",
    fillStyle: "rgba(255, 0, 0, 0.3)",
    strokeStyle: "rgba(255, 0, 0, 0.5)",
    x: 100,
    y: 200,
    sx: 102,
    sy: 202,
  });
};
</script>
```

### ç¦ç”¨æ¨¡å¼ï¼ˆåªè¯»ï¼‰

```vue
<template>
  <div>
    <Vue3Signature
      ref="signature"
      :disabled="isDisabled"
      :w="'800px'"
      :h="'400px'"
    />

    <button @click="toggleDisabled">
      {{ isDisabled ? "å¯ç”¨" : "ç¦ç”¨" }} ç¼–è¾‘
    </button>
  </div>
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);
const isDisabled = ref(false);

const toggleDisabled = () => {
  isDisabled.value = !isDisabled.value;
};
</script>
```

### ä» Data URL åŠ è½½

```vue
<template>
  <div>
    <Vue3Signature ref="signature" :w="'800px'" :h="'400px'" />

    <button @click="loadSignature">åŠ è½½å·²ä¿å­˜çš„ç­¾å</button>
    <button @click="saveSignature">ä¿å­˜å½“å‰ç­¾å</button>
  </div>
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);
const savedSignature = ref("");

const saveSignature = () => {
  savedSignature.value = signature.value.save();
  alert("ç­¾åå·²ä¿å­˜ï¼");
};

const loadSignature = () => {
  if (savedSignature.value) {
    signature.value.fromDataURL(savedSignature.value);
  } else {
    alert("æœªæ‰¾åˆ°å·²ä¿å­˜çš„ç­¾åï¼");
  }
};
</script>
```

### å“åº”å¼è®¾è®¡

```vue
<template>
  <div class="signature-container">
    <Vue3Signature
      ref="signature"
      :w="'100%'"
      :h="'100%'"
      :clearOnResize="false"
    />
  </div>
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);
</script>

<style scoped>
.signature-container {
  width: 100%;
  height: 400px;
  max-width: 800px;
  margin: 0 auto;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  overflow: hidden;
}

@media (max-width: 768px) {
  .signature-container {
    height: 300px;
  }
}
</style>
```

### ç§»é™¤ç­¾åå‘¨å›´çš„ç•™ç™½

```vue
<template>
  <Vue3Signature ref="signature" :w="'600px'" :h="'250px'" @end="trim" />
  <img v-if="trimmed" :src="trimmed" alt="è£å‰ªåçš„ç­¾å" />
</template>

<script setup>
import { ref } from "vue";

const signature = ref(null);
const trimmed = ref("");

const trim = () => {
  const result = signature.value.trim();
  trimmed.value = result?.dataUrl ?? "";
};
</script>
```

è¯¥åŠŸèƒ½åŸºäº [issue #49 ä¸­çš„è£å‰ªæ–¹æ¡ˆ](https://github.com/szimek/signature_pad/issues/49#issuecomment-260976909)ï¼šç»„ä»¶å¤åˆ¶å½“å‰ç”»å¸ƒï¼Œè®¡ç®—ç¬”è¿¹çš„æœ€å°åŒ…å›´ç›’å¹¶è£å‰ªï¼Œåªè¿”å›è£å‰ªåçš„ç»“æœï¼Œä¸ä¼šä¿®æ”¹ç”¨æˆ·æ­£åœ¨ç¼–è¾‘çš„ç”»å¸ƒã€‚

## ğŸ”§ é«˜çº§ç”¨æ³•

### å®Œæ•´åŠŸèƒ½ç¤ºä¾‹

```vue
<template>
  <div class="signature-app">
    <h2>ç”µå­ç­¾åæ¿</h2>

    <div class="controls">
      <div class="control-group">
        <label>ç”»ç¬”é¢œè‰²ï¼š</label>
        <input type="color" v-model="options.penColor" />
      </div>

      <div class="control-group">
        <label>èƒŒæ™¯é¢œè‰²ï¼š</label>
        <input type="color" v-model="options.backgroundColor" />
      </div>

      <div class="control-group">
        <label>
          <input type="checkbox" v-model="isDisabled" />
          åªè¯»æ¨¡å¼
        </label>
      </div>
    </div>

    <Vue3Signature
      ref="signature"
      :sigOption="options"
      :disabled="isDisabled"
      :w="'100%'"
      :h="'400px'"
      class="signature-pad"
    />

    <div class="button-group">
      <button @click="save('image/png')" class="btn btn-primary">
        ğŸ’¾ ä¿å­˜ PNG
      </button>
      <button @click="save('image/jpeg')" class="btn btn-primary">
        ğŸ’¾ ä¿å­˜ JPEG
      </button>
      <button @click="clear" class="btn btn-danger">ğŸ—‘ï¸ æ¸…ç©º</button>
      <button @click="undo" class="btn btn-secondary">â†©ï¸ æ’¤é”€</button>
      <button @click="addWatermark" class="btn btn-secondary">
        ğŸ”– æ·»åŠ æ°´å°
      </button>
    </div>

    <div v-if="preview" class="preview">
      <h3>é¢„è§ˆï¼š</h3>
      <img :src="preview" alt="ç­¾åé¢„è§ˆ" />
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from "vue";

const signature = ref(null);
const preview = ref("");
const isDisabled = ref(false);

const options = reactive({
  penColor: "rgb(0, 0, 0)",
  backgroundColor: "rgb(255, 255, 255)",
});

const save = (format) => {
  if (signature.value.isEmpty()) {
    alert("è¯·å…ˆæä¾›ç­¾åã€‚");
    return;
  }

  const dataUrl = signature.value.save(format);
  preview.value = dataUrl;

  // ä¸‹è½½å›¾ç‰‡
  const link = document.createElement("a");
  const extension = format === "image/jpeg" ? "jpg" : "png";
  link.download = `signature.${extension}`;
  link.href = dataUrl;
  link.click();
};

const clear = () => {
  signature.value.clear();
  preview.value = "";
};

const undo = () => {
  signature.value.undo();
};

const addWatermark = () => {
  signature.value.addWaterMark({
    text: new Date().toLocaleDateString(),
    font: "16px Arial",
    fillStyle: "rgba(0, 0, 0, 0.3)",
    x: 10,
    y: 30,
  });
};
</script>

<style scoped>
.signature-app {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
}

.controls {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.control-group {
  display: flex;
  align-items: center;
  gap: 10px;
}

.signature-pad {
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.button-group {
  display: flex;
  gap: 10px;
  margin-top: 20px;
  flex-wrap: wrap;
}

.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s ease;
}

.btn-primary {
  background-color: #4caf50;
  color: white;
}

.btn-primary:hover {
  background-color: #45a049;
}

.btn-danger {
  background-color: #f44336;
  color: white;
}

.btn-danger:hover {
  background-color: #da190b;
}

.btn-secondary {
  background-color: #2196f3;
  color: white;
}

.btn-secondary:hover {
  background-color: #0b7dda;
}

.preview {
  margin-top: 30px;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 8px;
}

.preview img {
  max-width: 100%;
  border: 1px solid #ddd;
  border-radius: 4px;
}
</style>
```

## ğŸŒ æµè§ˆå™¨æ”¯æŒ

Vue3 Signature é€‚ç”¨äºæ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼š

- âœ… Chromeï¼ˆæœ€æ–°ç‰ˆï¼‰
- âœ… Firefoxï¼ˆæœ€æ–°ç‰ˆï¼‰
- âœ… Safariï¼ˆæœ€æ–°ç‰ˆï¼‰
- âœ… Edgeï¼ˆæœ€æ–°ç‰ˆï¼‰
- âœ… Operaï¼ˆæœ€æ–°ç‰ˆï¼‰
- âœ… ç§»åŠ¨æµè§ˆå™¨ï¼ˆiOS Safariã€Chrome Mobileï¼‰

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. æäº¤ä½ çš„æ›´æ”¹ï¼ˆ`git commit -m 'Add some AmazingFeature'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

è¯¦ç»†æ›´æ–°æ—¥å¿—è¯·æŸ¥çœ‹ [Releases](https://github.com/WangShayne/vue3-signature/releases)ã€‚

## ğŸ™ è‡´è°¢ä¸ä¾èµ–

### æ ¸å¿ƒä¾èµ–

è¿™ä¸ª Vue 3 ç»„ä»¶æ˜¯å¯¹ **[signature_pad](https://github.com/szimek/signature_pad)** çš„å°è£… - æœ€æµè¡Œå’Œå¯é çš„ HTML5 Canvas ç­¾ååº“ã€‚

**ä¸ºä»€ä¹ˆé€‰æ‹© signature_padï¼Ÿ**
- â­ **13,000+ GitHub æ˜Ÿæ ‡** - å—åˆ°å…¨çƒæ•°åƒåå¼€å‘è€…çš„ä¿¡èµ–
- ğŸ† **è¡Œä¸šæ ‡å‡†** - åœ¨æ— æ•°ç”Ÿäº§åº”ç”¨ä¸­ä½¿ç”¨
- ğŸ¨ **æµç•…ç»˜åˆ¶** - é‡‡ç”¨å…ˆè¿›çš„è´å¡å°”æ›²çº¿æ’å€¼ç®—æ³•ï¼Œå®ç°è‡ªç„¶çš„ç­¾åæ•ˆæœ
- ğŸ“± **è§¦æ‘¸ä¼˜åŒ–** - å®Œç¾æ”¯æŒè§¦æ‘¸å±å’Œæ‰‹å†™ç¬”è¾“å…¥
- ğŸ”§ **ç»´æŠ¤è‰¯å¥½** - æ´»è·ƒçš„å¼€å‘å’Œå®šæœŸæ›´æ–°
- ğŸ“¦ **è½»é‡çº§** - æœ€å°çš„ä½“ç§¯ï¼Œæœ€å¤§çš„åŠŸèƒ½

**åº“ä¿¡æ¯ï¼š**
- ä½œè€…ï¼š[Szymon Nowak](https://github.com/szimek)
- ä»“åº“ï¼š[github.com/szimek/signature_pad](https://github.com/szimek/signature_pad)
- è®¸å¯è¯ï¼šMIT
- å½“å‰ç‰ˆæœ¬ï¼š5.1.1

é€šè¿‡ä½¿ç”¨ Vue3 Signatureï¼Œä½ å¯ä»¥è·å¾— signature_pad çš„å…¨éƒ¨åŠŸèƒ½ï¼ŒåŒæ—¶äº«å— Vue 3 ç»„åˆå¼ API çš„ç®€æ´æ€§ã€‚

## ğŸ“„ è®¸å¯è¯

[MIT License](https://opensource.org/licenses/MIT)

Copyright (c) 2024 Shayne Wang

---

## ğŸ”— ç›¸å…³é¡¹ç›®

- **[vue-signature](https://github.com/WangShayne/vue-signature)** - Vue 2.x ç‰ˆæœ¬
- **[signature_pad](https://github.com/szimek/signature_pad)** - åº•å±‚ç­¾ååº“

---

<div align="center">
  ç”± <a href="https://github.com/WangShayne">Shayne Wang</a> ç”¨ â¤ï¸ åˆ¶ä½œ
  <br>
  å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª â­ï¸
</div>
